(window["webpackJsonp"]=window["webpackJsonp"]||[]).push([["js/trouble"],{e0b9:function(t,a,e){"use strict";e.r(a);var s=function(){var t=this,a=t.$createElement,e=t._self._c||a;return e("section",{staticClass:"dashboard-content"},[e("div",{staticClass:"form-section"},[e("div",{staticClass:"section-title mb-s"},[t._v("问题件登记")]),e("div",{staticClass:"flex"},[e("div",{staticClass:"flex-3"},[e("div",{staticClass:"mt-m"},[e("span",{staticClass:"label",attrs:{type:"text"}},[t._v("导入问题件表")]),e("el-button",{attrs:{size:"small"},on:{click:function(a){t.$refs.upload.click()}}},[t._v("选择文件")]),t.file?e("span",{staticClass:"remark"},[t._v(t._s(t.file.name))]):t._e()],1),e("div",{staticClass:"mt-m"},[e("el-button",{attrs:{size:"small",type:"primary",disabled:!t.file,loading:!t.isLoaded},on:{click:t.uploadFile}},[t._v("确认导入")]),e("span",{staticClass:"remark"},[t._v("重复的记录以新上传的为准")])],1),e("input",{ref:"upload",attrs:{type:"file"},on:{change:t.chooseFile}})]),e("div",{staticClass:"flex-3 border-l pl-l"},[e("label",{staticClass:"filter-label"},[e("span",{staticClass:"label-content"},[t._v("单个快递单号")]),e("el-input",{model:{value:t.orderId,callback:function(a){t.orderId=a},expression:"orderId"}})],1),e("div",[e("el-button",{attrs:{size:"small",type:"primary",disabled:!t.orderId}},[t._v("确认添加")])],1)])])]),e("div",{staticClass:"form-section"},[e("div",{staticClass:"section-title"},[t._v("全部问题件")]),t._m(0),e("div",{staticClass:"mt-m"},[e("el-button",{attrs:{size:"small",type:"primary"}},[t._v("确认生成")]),e("span",{staticClass:"remark"},[t._v("未处理完的问题件表主要用于向快递客服反馈")])],1)]),e("el-table",{attrs:{stripe:"",data:t.troubles}},[e("el-table-column",{attrs:{prop:"targetId",label:"订单ID"}}),e("el-table-column",{attrs:{label:"跟进状态"},scopedSlots:t._u([{key:"default",fn:function(a){return[t._v("\n        "+t._s(a.row.isActive?"跟进中":"已结束")+"\n      ")]}}])})],1),e("el-pagination",{staticClass:"pagination",attrs:{background:"","current-page":t.pagination.page,"page-sizes":[20,50,100],"page-size":t.pagination.limit,layout:"total, sizes, prev, pager, next, jumper",total:t.pagination.total},on:{"size-change":t.changeSize,"current-change":t.changePage}})],1)},i=[function(){var t=this,a=t.$createElement,e=t._self._c||a;return e("div",{staticClass:"mt-s"},[e("span",{staticClass:"label",attrs:{type:"text"}},[t._v("生成未处理完的问题件表")])])}],l=(e("cadf"),e("551c"),e("097d"),{name:"Trouble",data:function(){return{orderId:"",isLoaded:!0,file:null,troubles:[],pagination:{page:1,limit:20,total:0}}},mounted:function(){this.loadData()},methods:{chooseFile:function(t){this.file=t.target.files?t.target.files[0]:null},uploadFile:function(){},changeSize:function(t){this.pagination.limit=t,this.loadData()},changePage:function(t){this.pagination.page=t,this.loadData()},loadData:function(){var t=this,a=this.pagination,e=a.limit,s=a.page;this.isLoaded=!1,this.$http.get("/api/troubles",{params:{limit:e,page:s}}).then(function(a){var e=a.data;t.isLoaded=!0,t.pagination.total=e.total,t.troubles=e.troubles})}}}),n=l,o=e("2877"),r=Object(o["a"])(n,s,i,!1,null,null,null);r.options.__file="trouble.vue";a["default"]=r.exports}}]);
//# sourceMappingURL=trouble.a3938909.js.map